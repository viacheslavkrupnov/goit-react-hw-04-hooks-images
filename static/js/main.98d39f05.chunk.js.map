{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/LoaderView/LoaderView.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.js","components/Searchbar/Searchbar.js","services/apiPixabay.js","components/ImagesErrorView/ImagesErrorView.js","components/LoaderView/LoaderView.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","s","container","Searchbar","onSubmit","useState","imageName","setImageName","SearchForm","e","preventDefault","trim","toast","info","type","SearchFormBtn","value","onChange","event","currentTarget","toLowerCase","SearchForm_input","autoComplete","autoFocus","placeholder","api","fetchPixabay","name","page","fetch","then","response","ok","json","Promise","reject","Error","ImagesErrorView","message","role","LoaderView","loader","color","height","width","timeout","ImageGalleryItem","src","alt","toggleModal","largeImageURL","ImageGalleryItem_image","onClick","ImageGallery","images","map","image","index","webformatURL","tags","Button","onLoadMore","modalRoot","document","querySelector","Modal","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","target","Status","App","setImages","setPage","error","setError","status","setStatus","arePicturesOver","setArePicturesOver","showModal","setShowModal","largeURL","setLargeURL","setAlt","pixabayAPI","newImages","total","prevImages","hits","totalHits","scrollTo","top","documentElement","scrollHeight","behavior","catch","autoClose","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.98d39f05.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2qoWa\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3RSwa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3RIox\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"LoaderView_loader__3ZL9x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import propTypes from 'prop-types';\nimport s from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n\nContainer.propTypes = {\n  children: propTypes.node.isRequired,\n};\n\nexport default Container;","import { useState } from 'react';\nimport { GrSearch } from 'react-icons/gr';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState('');\n\n  const handleNameChange = event => {\n    setImageName(event.currentTarget.value.toLowerCase());\n  };\n\n  const handelFormSubmit = e => {\n    e.preventDefault();\n\n    if (imageName.trim() === '') {\n      return toast.info('Please enter search query');\n    }\n\n    onSubmit(imageName);\n    setImageName('');\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handelFormSubmit}>\n        <button type=\"submit\" className={s.SearchFormBtn}>\n          <GrSearch />\n          {/* <span className={s.SearchForm_button_label}>Search</span> */}\n        </button>\n\n        <input\n          value={imageName}\n          onChange={handleNameChange}\n          className={s.SearchForm_input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;","function fetchPixabay(name, page) {\n    return fetch(\n      `https://pixabay.com/api/?q=${name}&page=${page}&key=21862781-55956ee72f3a06fc28e1330b7&image_type=photo&orientation=horizontal&per_page=12`,\n    ).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n  \n      return Promise.reject(new Error(`No response from server`));\n    });\n  }\n  \n  const api = { fetchPixabay };\n  \n  export default api;\n  ","import PropTypes from 'prop-types';\n\nfunction ImagesErrorView({ message }) {\n  return (\n    <div role=\"alert\">\n      <p>Sorry, something went wrong. Error: {message}</p>\n    </div>\n  );\n}\n\nImagesErrorView.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nexport default ImagesErrorView;","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './LoaderView.module.css';\n\nfunction LoaderView() {\n  //other logic\n  return (\n    <Loader\n      className={s.loader}\n      type=\"ThreeDots\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80}\n      timeout={3000}\n    />\n  );\n}\n\nexport default LoaderView;","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem ({ src, alt, toggleModal, largeImageURL }) {\n\n    return (\n      <li className={s.ImageGalleryItem}>\n        <img\n          src={src}\n          alt={alt}\n          className={s.ImageGalleryItem_image}\n          onClick={() => toggleModal(largeImageURL)}\n        />\n      </li>\n    );\n  \n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nfunction ImageGallery({ images, toggleModal }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map((image, index) => (\n        <ImageGalleryItem\n          key={index}\n          src={image.webformatURL}\n          alt={image.tags}\n          largeImageURL={image.largeImageURL}\n          toggleModal={toggleModal}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;","import { useEffect } from 'react';\n\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({ src, alt, onClose }) {\n  useEffect(() => {\n    // console.log('mount');\n    window.addEventListener('keydown', handleKeyDown);\n    return () => {\n      // console.log('unmount');\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal}>\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n\nexport default Modal;","import { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Container from './components/Container';\nimport Searchbar from './components/Searchbar';\n\nimport pixabayAPI from './services/apiPixabay';\nimport ImagesErrorView from './components/ImagesErrorView';\nimport LoaderView from './components/LoaderView';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nfunction App() {\n  \n  const [imageName, setImageName] = useState('');\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [arePicturesOver, setArePicturesOver] = useState(false);\n  \n  const [showModal, setShowModal] = useState(false);\n  const [largeURL, setLargeURL] = useState('');\n  const [alt, setAlt] = useState('');\n\n  \n  useEffect(() => {\n    if (!imageName) {\n      return;\n    }\n    setStatus(Status.PENDING);\n\n    pixabayAPI\n      .fetchPixabay(imageName, page)\n      .then(newImages => {\n        if (newImages.total !== 0) {\n          setImages(prevImages => [...prevImages, ...newImages.hits]);\n          setArePicturesOver(newImages.totalHits - page * 12 <= 0);\n          setStatus(Status.RESOLVED);\n        } else return Promise.reject(new Error('Invalid request'));\n        return window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => {\n        setError(error);\n        setStatus(Status.REJECTED);\n      });\n  }, [imageName, page, setImages]);\n\n  const onLoadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  const handelFormSubmit = name => {\n    setImageName(name);\n    setImages([]);\n    setPage(1);\n  };\n\n\n  const toggleModal = (largeURL) => {\n    setShowModal(!showModal);\n    setLargeURL(largeURL);\n    setAlt('');\n  }\n\n    return (\n      <Container>\n        <Searchbar onSubmit={handelFormSubmit} />\n        <ToastContainer autoClose={3000} />\n\n        {status === Status.IDLE && (\n          <p>Please enter a value for search images</p>\n        )}\n\n        {status === Status.PENDING && <LoaderView />}\n\n        {status === Status.REJECTED && (\n          <ImagesErrorView message={error.message} />\n        )}\n\n        {status === Status.RESOLVED && (\n          <>\n            <ImageGallery toggleModal={toggleModal} images={images} />\n\n            {showModal && (\n              <Modal onClose={toggleModal} src={largeURL} alt={alt} />\n            )}\n\n            {status === Status.RESOLVED && !arePicturesOver && (\n              <Button onLoadMore={onLoadMore} />\n            )}\n          </>\n        )}\n      </Container>\n    );\n  \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormBtn\":\"Searchbar_SearchFormBtn__OKWl-\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__5zUwS\",\"SearchForm_input\":\"Searchbar_SearchForm_input__11BIx\"};"],"sourceRoot":""}